{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "datasource": {
        "default": false,
        "type": "datasource",
        "uid": "-- Mixed --"
      },
      "description": "",
      "gridPos": {
        "h": 16,
        "w": 21,
        "x": 0,
        "y": 0
      },
      "id": 3,
      "options": {
        "PDUTextsize": "12",
        "RackTextsize": "10",
        "TooltipTextsize": "12",
        "activeColor": "#0000ff",
        "errorColor": "#ff0000",
        "fanURL": "/d/ce0xm7wjr9ywwe/datacenter-view-fan",
        "pduSize": 5,
        "pduURL": "/d/ddqco4d3utj4asd/datacenter-view-pdu",
        "rackSize": 30,
        "rackURL": "/d/cdou123admle29sf/datacenter-view-rack",
        "railSize": 50,
        "railTextsize": "14",
        "railURL": "/d/fdyyae74x0irka/datacenter-view-rail",
        "rowTextsize": "10",
        "rowURL": "/d/cdou123admle29sf/datacenter-view-rack",
        "successColor": "#00ff00",
        "tooltips": true,
        "upsSizeHeight": 100,
        "upsSizeWidth": 100,
        "upsTextsize": "12",
        "upsURL": "/d/ae0ubbk3if400d/datacenter-view-ups"
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "exemplar": false,
          "expr": "up",
          "format": "table",
          "fullMetaSearch": false,
          "hide": false,
          "includeNullMetadata": true,
          "instant": true,
          "legendFormat": "__auto",
          "range": false,
          "refId": "alertingStatus",
          "useBackend": false
        },
        {
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "ae0xvww1xfv28b"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT *, id as \"_value\" FROM rack WHERE dc_name = '$dc_name' ",
          "refId": "rackInfo",
          "sql": {
            "columns": [
              {
                "parameters": [
                  {
                    "name": "*",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50,
            "whereJsonTree": {
              "children1": [
                {
                  "id": "9aaba9ba-cdef-4012-b456-71928fe5a968",
                  "properties": {
                    "field": "dc_name",
                    "fieldSrc": "field",
                    "operator": "equal",
                    "value": [
                      "$dc_name"
                    ],
                    "valueError": [
                      null
                    ],
                    "valueSrc": [
                      "value"
                    ],
                    "valueType": [
                      "text"
                    ]
                  },
                  "type": "rule"
                }
              ],
              "id": "8a89ba8a-0123-4456-b89a-b1928fe53679",
              "type": "group"
            },
            "whereString": "dc_name = '$dc_name'"
          },
          "table": "rack"
        },
        {
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "ae0xvww1xfv28b"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT *, id as \"_value\" FROM pdu WHERE dc_name = '$dc_name' AND pdu_type ='PDU'",
          "refId": "pduInfo",
          "sql": {
            "columns": [
              {
                "parameters": [
                  {
                    "name": "*",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50,
            "whereJsonTree": {
              "children1": [
                {
                  "id": "9aaba9ba-cdef-4012-b456-71928fe5a968",
                  "properties": {
                    "field": "dc_name",
                    "fieldSrc": "field",
                    "operator": "equal",
                    "value": [
                      "$dc_name"
                    ],
                    "valueError": [
                      null
                    ],
                    "valueSrc": [
                      "value"
                    ],
                    "valueType": [
                      "text"
                    ]
                  },
                  "type": "rule"
                }
              ],
              "id": "8a89ba8a-0123-4456-b89a-b1928fe53679",
              "type": "group"
            },
            "whereString": "dc_name = '$dc_name'"
          },
          "table": "rack"
        },
        {
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "ae0xvww1xfv28b"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT *, id as \"_value\" FROM pdu WHERE dc_name = '$dc_name' AND pdu_type ='FAN'",
          "refId": "fanInfo",
          "sql": {
            "columns": [
              {
                "parameters": [
                  {
                    "name": "*",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50,
            "whereJsonTree": {
              "children1": [
                {
                  "id": "9aaba9ba-cdef-4012-b456-71928fe5a968",
                  "properties": {
                    "field": "dc_name",
                    "fieldSrc": "field",
                    "operator": "equal",
                    "value": [
                      "$dc_name"
                    ],
                    "valueError": [
                      null
                    ],
                    "valueSrc": [
                      "value"
                    ],
                    "valueType": [
                      "text"
                    ]
                  },
                  "type": "rule"
                }
              ],
              "id": "8a89ba8a-0123-4456-b89a-b1928fe53679",
              "type": "group"
            },
            "whereString": "dc_name = '$dc_name'"
          },
          "table": "rack"
        },
        {
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "ae0xvww1xfv28b"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT *, id as \"_value\" FROM pdu WHERE rail_name ~ '$dc_name' AND pdu_type ='UPS'",
          "refId": "upsInfo",
          "sql": {
            "columns": [
              {
                "parameters": [
                  {
                    "name": "*",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50,
            "whereJsonTree": {
              "children1": [
                {
                  "id": "9aaba9ba-cdef-4012-b456-71928fe5a968",
                  "properties": {
                    "field": "dc_name",
                    "fieldSrc": "field",
                    "operator": "equal",
                    "value": [
                      "$dc_name"
                    ],
                    "valueError": [
                      null
                    ],
                    "valueSrc": [
                      "value"
                    ],
                    "valueType": [
                      "text"
                    ]
                  },
                  "type": "rule"
                }
              ],
              "id": "8a89ba8a-0123-4456-b89a-b1928fe53679",
              "type": "group"
            },
            "whereString": "dc_name = '$dc_name'"
          },
          "table": "rack"
        },
        {
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "ae0xvww1xfv28b"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT *, id as \"_value\" FROM pdu WHERE  pdu_type ='RAIL'",
          "refId": "railInfo",
          "sql": {
            "columns": [
              {
                "parameters": [
                  {
                    "name": "*",
                    "type": "functionParameter"
                  }
                ],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50,
            "whereJsonTree": {
              "children1": [
                {
                  "id": "9aaba9ba-cdef-4012-b456-71928fe5a968",
                  "properties": {
                    "field": "dc_name",
                    "fieldSrc": "field",
                    "operator": "equal",
                    "value": [
                      "$dc_name"
                    ],
                    "valueError": [
                      null
                    ],
                    "valueSrc": [
                      "value"
                    ],
                    "valueType": [
                      "text"
                    ]
                  },
                  "type": "rule"
                }
              ],
              "id": "8a89ba8a-0123-4456-b89a-b1928fe53679",
              "type": "group"
            },
            "whereString": "dc_name = '$dc_name'"
          },
          "table": "rack"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "disableTextWrap": false,
          "editorMode": "builder",
          "exemplar": false,
          "expr": "probe_success",
          "format": "table",
          "fullMetaSearch": false,
          "hide": false,
          "includeNullMetadata": true,
          "instant": true,
          "legendFormat": "__auto",
          "range": false,
          "refId": "tcpStatus",
          "useBackend": false
        },
        {
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "ae0xvww1xfv28b"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT *, id as \"_value\" FROM pdu WHERE dc_name = '$dc_name' AND pdu_type ='Sensor'",
          "refId": "sensorInfo",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "$dc_name",
      "type": "epfl-alerting-panel"
    }
  ],
  "refresh": "",
  "schemaVersion": 39,
  "tags": [],
  "templating": {
    "list": [
      {
        "current": {
          "selected": true,
          "text": "> CCT",
          "value": "CCT"
        },
        "hide": 0,
        "includeAll": false,
        "multi": false,
        "name": "dc_name",
        "options": [],
        "query": "",
        "queryValue": "",
        "skipUrlSync": false,
        "type": "custom"
      }
    ]
  },
  "time": {
    "from": "now-6h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "Provisioned pdu3 dashboard",
  "uid": "a538aeff-5a8a-42a5-901c-938d896fdd6f",
  "version": 12,
  "weekStart": ""
}